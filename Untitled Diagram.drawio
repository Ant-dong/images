<mxfile host="app.diagrams.net" modified="2022-07-21T05:55:30.532Z" agent="5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36" etag="FfwVLNq8bFIIgZefBTmd" version="20.0.4" type="github">
  <diagram id="J9S4pAInpbBgbPKqcIev" name="Page-1">
    <mxGraphModel dx="1261" dy="1988" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="6Zn02Jnht_u-dN16hU-3-36" value="" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Times New Roman;fontSize=12;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="490" y="240" width="200" height="140" as="geometry" />
        </mxCell>
        <mxCell id="6Zn02Jnht_u-dN16hU-3-35" value="" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Times New Roman;fontSize=12;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="230" y="230" width="170" height="140" as="geometry" />
        </mxCell>
        <mxCell id="6Zn02Jnht_u-dN16hU-3-34" value="" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Times New Roman;fontSize=12;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="45" y="230" width="170" height="140" as="geometry" />
        </mxCell>
        <mxCell id="6Zn02Jnht_u-dN16hU-3-16" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=24;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="40" y="90" width="940" height="120" as="geometry" />
        </mxCell>
        <mxCell id="6Zn02Jnht_u-dN16hU-3-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=24;curved=1;strokeWidth=2;" edge="1" parent="1" source="6Zn02Jnht_u-dN16hU-3-4" target="6Zn02Jnht_u-dN16hU-3-5">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="130" y="20" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="6Zn02Jnht_u-dN16hU-3-9" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=24;strokeWidth=2;" edge="1" parent="1" source="6Zn02Jnht_u-dN16hU-3-4" target="6Zn02Jnht_u-dN16hU-3-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6Zn02Jnht_u-dN16hU-3-39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Times New Roman;fontSize=14;fontColor=#FF0000;strokeWidth=2;curved=1;" edge="1" parent="1" source="6Zn02Jnht_u-dN16hU-3-4" target="6Zn02Jnht_u-dN16hU-3-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6Zn02Jnht_u-dN16hU-3-40" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Times New Roman;fontSize=14;fontColor=#FF0000;strokeWidth=2;" edge="1" parent="1" source="6Zn02Jnht_u-dN16hU-3-4" target="6Zn02Jnht_u-dN16hU-3-37">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6Zn02Jnht_u-dN16hU-3-41" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Times New Roman;fontSize=14;fontColor=#FF0000;strokeWidth=2;" edge="1" parent="1" source="6Zn02Jnht_u-dN16hU-3-4" target="6Zn02Jnht_u-dN16hU-3-38">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="500" y="20" />
              <mxPoint x="880" y="20" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="6Zn02Jnht_u-dN16hU-3-4" value="&lt;font style=&quot;font-size: 24px;&quot;&gt;&lt;b&gt;特色专区&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#FFFFFF;sketch=1;" vertex="1" parent="1">
          <mxGeometry x="440" y="-60" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="6Zn02Jnht_u-dN16hU-3-12" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=24;strokeWidth=2;" edge="1" parent="1" source="6Zn02Jnht_u-dN16hU-3-5">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="130" y="250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6Zn02Jnht_u-dN16hU-3-5" value="&lt;font style=&quot;font-size: 24px;&quot;&gt;&lt;b&gt;限时抢购处理器&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#FFFFFF;sketch=1;" vertex="1" parent="1">
          <mxGeometry x="70" y="120" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="6Zn02Jnht_u-dN16hU-3-14" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=24;strokeWidth=2;" edge="1" parent="1" source="6Zn02Jnht_u-dN16hU-3-6" target="6Zn02Jnht_u-dN16hU-3-24">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="354" y="250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6Zn02Jnht_u-dN16hU-3-6" value="&lt;font style=&quot;font-size: 24px;&quot;&gt;&lt;b&gt;叮咚新品处理器&lt;/b&gt;&lt;/font&gt;&lt;span style=&quot;color: rgba(0, 0, 0, 0); font-family: monospace; font-size: 0px; text-align: start;&quot;&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22%26lt%3Bfont%20style%3D%26quot%3Bfont-size%3A%2024px%3B%26quot%3B%26gt%3B%26lt%3Bb%26gt%3B%E9%99%90%E6%97%B6%E6%8A%A2%E8%B4%AD%26lt%3B%2Fb%26gt%3B%26lt%3B%2Ffont%26gt%3B%22%20style%3D%22rounded%3D1%3BwhiteSpace%3Dwrap%3Bhtml%3D1%3BstrokeWidth%3D2%3BfillWeight%3D4%3BhachureGap%3D8%3BhachureAngle%3D45%3BfillColor%3D%23FFFFFF%3Bsketch%3D1%3B%22%20vertex%3D%221%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%2270%22%20y%3D%22120%22%20width%3D%22120%22%20height%3D%2260%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3E&lt;/span&gt;&lt;span style=&quot;color: rgba(0, 0, 0, 0); font-family: monospace; font-size: 0px; text-align: start;&quot;&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22%26lt%3Bfont%20style%3D%26quot%3Bfont-size%3A%2024px%3B%26quot%3B%26gt%3B%26lt%3Bb%26gt%3B%E9%99%90%E6%97%B6%E6%8A%A2%E8%B4%AD%26lt%3B%2Fb%26gt%3B%26lt%3B%2Ffont%26gt%3B%22%20style%3D%22rounded%3D1%3BwhiteSpace%3Dwrap%3Bhtml%3D1%3BstrokeWidth%3D2%3BfillWeight%3D4%3BhachureGap%3D8%3BhachureAngle%3D45%3BfillColor%3D%23FFFFFF%3Bsketch%3D1%3B%22%20vertex%3D%221%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%2270%22%20y%3D%22120%22%20width%3D%22120%22%20height%3D%2260%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3E处理&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#FFFFFF;sketch=1;" vertex="1" parent="1">
          <mxGeometry x="240" y="120" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="6Zn02Jnht_u-dN16hU-3-7" value="&lt;span style=&quot;font-size: 24px;&quot;&gt;&lt;b&gt;选品包类型处理器&lt;/b&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#FFFFFF;sketch=1;" vertex="1" parent="1">
          <mxGeometry x="414" y="120" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="6Zn02Jnht_u-dN16hU-3-17" value="&lt;p style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;使用核心线程池并行，设置超时时间，目前超时时间500ms(不合理)&lt;/font&gt;&lt;/p&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fontSize=24;fillColor=#FFFFFF;align=left;" vertex="1" parent="1">
          <mxGeometry x="1020" y="-190" width="150" height="90" as="geometry" />
        </mxCell>
        <mxCell id="6Zn02Jnht_u-dN16hU-3-19" value="&lt;font color=&quot;#ff0000&quot;&gt;重构后&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;fontSize=24;fontStyle=1;verticalAlign=middle;align=center;fontFamily=Times New Roman;" vertex="1" parent="1">
          <mxGeometry x="314" y="-120" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="6Zn02Jnht_u-dN16hU-3-29" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Times New Roman;fontSize=12;fontColor=#FF0000;strokeWidth=2;" edge="1" parent="1" source="6Zn02Jnht_u-dN16hU-3-23">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="130" y="390" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6Zn02Jnht_u-dN16hU-3-23" value="&lt;font style=&quot;font-size: 24px;&quot;&gt;&lt;b&gt;限时抢购DataSource&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#FFFFFF;sketch=1;" vertex="1" parent="1">
          <mxGeometry x="65" y="260" width="130" height="90" as="geometry" />
        </mxCell>
        <mxCell id="6Zn02Jnht_u-dN16hU-3-30" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontFamily=Times New Roman;fontSize=12;fontColor=#FF0000;strokeWidth=2;" edge="1" parent="1" source="6Zn02Jnht_u-dN16hU-3-24">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="314" y="390" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6Zn02Jnht_u-dN16hU-3-24" value="&lt;font style=&quot;font-size: 24px;&quot;&gt;&lt;b&gt;叮咚新品DataSource&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#FFFFFF;sketch=1;" vertex="1" parent="1">
          <mxGeometry x="249" y="260" width="130" height="90" as="geometry" />
        </mxCell>
        <mxCell id="6Zn02Jnht_u-dN16hU-3-25" value="&lt;font style=&quot;font-size: 24px;&quot;&gt;&lt;b&gt;其他类型DataSource&lt;/b&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#FFFFFF;sketch=1;" vertex="1" parent="1">
          <mxGeometry x="525" y="270" width="130" height="90" as="geometry" />
        </mxCell>
        <mxCell id="6Zn02Jnht_u-dN16hU-3-26" value="外部服务" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;fontSize=24;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="70" y="400" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="6Zn02Jnht_u-dN16hU-3-27" value="外部服务" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;fontSize=24;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="254" y="400" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="6Zn02Jnht_u-dN16hU-3-32" value="&lt;p style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;每个从dataSource获取源数据使用了核心线程池来限制获取源数据的超时时间，目前超时时间200ms(不合理)，如果超时了走灾备数据&lt;/font&gt;&lt;/p&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fontSize=24;fillColor=#FFFFFF;align=left;" vertex="1" parent="1">
          <mxGeometry x="1020" y="-80" width="290" height="105" as="geometry" />
        </mxCell>
        <mxCell id="6Zn02Jnht_u-dN16hU-3-37" value="&lt;span style=&quot;font-size: 24px;&quot;&gt;&lt;b&gt;CMS类型处理器&lt;/b&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#FFFFFF;sketch=1;" vertex="1" parent="1">
          <mxGeometry x="610" y="120" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="6Zn02Jnht_u-dN16hU-3-38" value="&lt;span style=&quot;font-size: 24px;&quot;&gt;&lt;b&gt;图文处理器&lt;/b&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillWeight=4;hachureGap=8;hachureAngle=45;fillColor=#FFFFFF;sketch=1;" vertex="1" parent="1">
          <mxGeometry x="810" y="120" width="140" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
